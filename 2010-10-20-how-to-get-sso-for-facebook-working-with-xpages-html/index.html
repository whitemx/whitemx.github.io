<!DOCTYPE html>
<html class="no-js" lang="en-GB">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="profile" href="https://gmpg.org/xfn/11">
		<link rel="pingback" href="/xmlrpc.php">
		
	<title>How to get SSO for Facebook working with XPages &#8211; mattwhite.me</title>
<meta name="robots" content="max-image-preview:large">
<script>document.documentElement.className = document.documentElement.className.replace("no-js","js");</script>
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//s.w.org">
<link rel="alternate" type="application/rss+xml" title="mattwhite.me &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="mattwhite.me &raquo; Comments Feed" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="mattwhite.me &raquo; How to get SSO for Facebook working with XPages Comments Feed" href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/feed/">
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.0.1"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode,e=(p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0),i.toDataURL());return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([129777,127995,8205,129778,127999],[129777,127995,8203,129778,127999])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style>
	<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=6.0.1" type="text/css" media="all">
<style id="global-styles-inline-css" type="text/css">body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}</style>
<link rel="stylesheet" id="blogstream-style-css" href="/wp-content/themes/blogstream/style.css?ver=6.0.1" type="text/css" media="all">
<style id="blogstream-style-inline-css" type="text/css">body { font-family: "Roboto", Arial, sans-serif; }</style>
<link rel="stylesheet" id="blogstream-responsive-css" href="/wp-content/themes/blogstream/responsive.css?ver=6.0.1" type="text/css" media="all">
<link rel="stylesheet" id="blogstream-font-awesome-css" href="/wp-content/themes/blogstream/fonts/all.min.css?ver=6.0.1" type="text/css" media="all">
<link rel="stylesheet" id="roboto-css" href="//fonts.googleapis.com/css?family=Roboto%3A400%2C300italic%2C300%2C400italic%2C700&#038;subset=latin%2Clatin-ext&#038;ver=6.0.1" type="text/css" media="all">
<script type="text/javascript" src="/wp-includes/js/jquery/jquery.min.js?ver=3.6.0" id="jquery-core-js"></script>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2" id="jquery-migrate-js"></script>
<script type="text/javascript" src="/wp-content/plugins/alx-extensions/js/jquery.sharrre.min.js?ver=1.0.1" id="alx-ext-sharrre-js"></script>
<script type="text/javascript" src="/wp-content/themes/blogstream/js/slick.min.js?ver=6.0.1" id="blogstream-slick-js"></script>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/1449">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 6.0.1">
<link rel="canonical" href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/">
<link rel="shortlink" href="/?p=1449">
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2F2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html%2F">
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2F2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html%2F&#038;format=xml">
<style id="kirki-inline-styles"></style>
</head>

<body class="post-template-default single single-post postid-1449 single-format-standard col-2cl full-width logged-out">

<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-dark-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0.49803921568627"></fefuncr><fefuncg type="table" tablevalues="0 0.49803921568627"></fefuncg><fefuncb type="table" tablevalues="0 0.49803921568627"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.54901960784314 0.98823529411765"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.71764705882353 0.25490196078431"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-red"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 0.27843137254902"></fefuncg><fefuncb type="table" tablevalues="0.5921568627451 0.27843137254902"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-midnight"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0"></fefuncr><fefuncg type="table" tablevalues="0 0.64705882352941"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-magenta-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.78039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.94901960784314"></fefuncg><fefuncb type="table" tablevalues="0.35294117647059 0.47058823529412"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-green"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.65098039215686 0.40392156862745"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.44705882352941 0.4"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-orange"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.098039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.66274509803922"></fefuncg><fefuncb type="table" tablevalues="0.84705882352941 0.41960784313725"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg>
<a class="skip-link screen-reader-text" href="#page">Skip to content</a>

<div id="wrapper">

	<div id="header-sticky">
		<header id="header" class="hide-on-scroll-down nav-menu-dropdown-left">

			<div class="pad group">

				<p class="site-title"><a href="/" rel="home">mattwhite.me</a></p>
									<p class="site-description"></p>
								
																	
			</div>
			
		</header><!--/#header-->
	</div>
<!--/#header-sticky-->

	<div id="header-bottom" class="group">
	
				
				
					<div class="search-trap-focus">
				<button class="toggle-search" data-target=".search-trap-focus">
					<svg class="svg-icon" id="svg-search" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewbox="0 0 23 23"><path d="M38.710696,48.0601792 L43,52.3494831 L41.3494831,54 L37.0601792,49.710696 C35.2632422,51.1481185 32.9839107,52.0076499 30.5038249,52.0076499 C24.7027226,52.0076499 20,47.3049272 20,41.5038249 C20,35.7027226 24.7027226,31 30.5038249,31 C36.3049272,31 41.0076499,35.7027226 41.0076499,41.5038249 C41.0076499,43.9839107 40.1481185,46.2632422 38.710696,48.0601792 Z M36.3875844,47.1716785 C37.8030221,45.7026647 38.6734666,43.7048964 38.6734666,41.5038249 C38.6734666,36.9918565 35.0157934,33.3341833 30.5038249,33.3341833 C25.9918565,33.3341833 22.3341833,36.9918565 22.3341833,41.5038249 C22.3341833,46.0157934 25.9918565,49.6734666 30.5038249,49.6734666 C32.7048964,49.6734666 34.7026647,48.8030221 36.1716785,47.3875844 C36.2023931,47.347638 36.2360451,47.3092237 36.2726343,47.2726343 C36.3092237,47.2360451 36.347638,47.2023931 36.3875844,47.1716785 Z" transform="translate(-20 -31)"></path></svg>
					<svg class="svg-icon" id="svg-close" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewbox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102"></polygon></svg>
				</button>
				<div class="search-expand">
					<div class="search-expand-inner">
						<form method="get" class="searchform themeform" action="/">
	<div>
		<input type="text" class="search" name="s" onblur="if(this.value=='')this.value='To search type and hit enter';" onfocus="if(this.value=='To search type and hit enter')this.value='';" value="To search type and hit enter">
	</div>
</form>					</div>
				</div>
			</div>
				
	</div>
<!--/#header-bottom-->

	<div id="wrapper-inner">

				
		<div class="container" id="page">
			<div class="container-inner">			
				<div class="main">
					<div class="main-inner group">

<div class="content">
	
	<div class="entry-wrap">
	
			<article id="post-1449" class="wrap-entry-line post-1449 post type-post status-publish format-standard hentry category-xpages tag-facebook tag-sso tag-xpages">	
			
			<div class="entry-line">
				<div class="entry-line-inner">
					<div class="entry-line-bullet">
						<div class="entry-line-bullet-inner"></div>
					</div>
				</div>
			</div>
			
			<div class="post-wrapper entry-line-entry group">
				<header class="entry-header group">
					<h1 class="entry-title">How to get SSO for Facebook working with XPages</h1>
				</header>
				<div class="entry-media">
																				</div>
				<div class="entry-content">
					<div class="entry themeform">	
						<p>So, <a href="http://mattwhite.me/blog/2010/10/20/facebook-sso-to-xpages.html">earlier today I posted a short video about a new feature that I&#8217;ve written for IQJam</a> (initially at least, it will be coming to IdeaJam at some point). It allows you to authenticate against a Domino server using Facebook Single Sign On (SSO).</p>
<p>Overall this is not for the faint of heart (or the new XPages developer, hence me not going into detail about how what the code is doing etc), there are a lot of moving parts to get things working properly. That being said there is absolutely no reason exactly the same approach couldn&#8217;t be taken with a classic Domino application. All of the server Side Javascript would need to be converted to LotusScript and Java (for the network operations).</p>
<p>1) Register your application with Facebook here: <a href="http://www.facebook.com/developers/apps.php">http://www.facebook.com/developers/apps.php</a></p>
<p>2) In the app home page, add a facebook login graphic with some client side onClick code:</p>
<pre style="font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; color: #000000; background-color: #eee; font-size: 12px; border: 1px dashed #999999; line-height: 14px; padding: 5px; overflow: auto; width: 100%;"><code>var returl = "http://[Your App Host Name][Your App DB Path]/fblogin.xsp";
var url = "https://graph.facebook.com/oauth/authorize?client_id=[YOUR FACEBOOK APP ID]&amp;redirect_uri=" + returl;
window.open (url, "mywindow","width=500,height=250");
</code></pre>
<p>3) Create a new XPage called fblogin</p>
<p>4) In the afterPageLoad event put the following code:</p>
<pre style="font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; color: #000000; background-color: #eee; font-size: 12px; border: 1px dashed #999999; line-height: 14px; padding: 5px; overflow: auto; width: 100%;"><code>try{
    //Get these from Facebook App registration
    var API_KEY = "YOUR FACEBOOK APP ID";
    var SECRET = "YOUR FACEBOOK SECRET KEY";

    //Get the auth code from url param returned by facebook
    var code = context.getUrlParameter("code");
    
    //Now swap the auth code for the access_token key
    var urltoken = "https://graph.facebook.com/oauth/access_token?client_id=" + API_KEY + 
                    "&amp;redirect_uri=http://[yourhostname]" + 
                    "/" + @ReplaceSubstring(database.getFilePath(), "\\", "/") + "/fblogin.xsp" + 
                    "&amp;client_secret=" + SECRET + 
                    "&amp;code=" + code;
    var urltoken:jav.net.URL = new java.net.URL(urltoken);
    var urltokenconn = urltoken.openConnection();
    var tokenreader = new java.io.BufferedReader(
                            new java.io.InputStreamReader(
                            urltokenconn.getInputStream())
                        );
    var inputLine;
    var accesstoken = "";
    while(    (inputLine = tokenreader.readLine()) != null){
        accesstoken += inputLine;
    }
    tokenreader.close();
    accesstoken = @Right(accesstoken, "=");

    //Now get the user info using the access_token
    var url = "https://graph.facebook.com/me?access_token=" + accesstoken + "&amp;client_id=" + API_KEY;
    var url:java.net.URL = new java.net.URL(url);
    var urlconn:java.net.URLConnection = url.openConnection();
    var reader:java.io.BufferedReader = new java.io.BufferedReader(
                                            new java.io.InputStreamReader(
                                            urlconn.getInputStream())
                                        );
    var inputLine;
    var userjson = "";
    while ((inputLine = reader.readLine()) != null){
        userjson += inputLine;
    }
    reader.close();
    
    //Now we've got a JSON object which contains the user data
    userjson = eval("(" + userjson + ")");
    var firstname = userjson.first_name;
    var lastname = userjson.last_name;
    var userId = userjson.id;
    var fbname = getFBName(firstname, lastname, userId);
    var password = getFBPassword(fbname, SECRET);
    print("FBName = " + fbname);
    var fbreg = new facebookReg();
    if (fbreg.validateUser(fbname.getCanonical())){
        //We need to go and register the user
        fbreg.registerNewFBUser(firstname, lastname, fbname, password);
    }
    //Set the username and password fields so the Ajax login can happen    
    viewScope.username = fbname.getCanonical();
    viewScope.password = password;
}catch(e){
    _dump(e);
}
</code></pre>
<p>5) In a supporting script library you&#8217;ll need the following functions:</p>
<pre style="font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; color: #000000; background-color: #eee; font-size: 12px; border: 1px dashed #999999; line-height: 14px; padding: 5px; overflow: auto; width: 100%;"><code>/*
An object which handles authentication / registration of Facebook users
Created By: Matt White
Date Created: October 2010
Version: 1.0
*/
var facebookReg = function(){
    var dbNab:NotesDatabase = null;
    var dbMainNab:NotesDatabase = null;
    var registerNewFBUser = function(firstname, lastname, fbname, password){
        getDbs();    
        if(validateUser(fbname.getCanonical())){
            var registerNewUser = false;
            
            if (!addUserToGroup(fbname)){
                print("Couldn't add " + fbname.getAbbreviated() + " to group");
            }else{
                dbNab.DelayUpdates = false
                dbMainNab.DelayUpdates = false
                
                var docPerson = dbNab.createDocument();
                
                docPerson.replaceItemValue("form", "Person");
                docPerson.replaceItemValue("Type", "Person");
                docPerson.replaceItemValue("LastName", lastname);
                docPerson.replaceItemValue("FirstName", firstname);
                var item = docPerson.replaceItemValue("FullName","");
                item.appendToTextList(fbname.getCanonical());
                item.appendToTextList(firstname + " " + lastname);
                docPerson.replaceItemValue("HTTPPassword", password);
                docPerson.replaceItemValue("accountstatus", "Not Verified");
                
                docPerson.computeWithForm( false, false );
                print("Saving new person doc: " + docPerson.getUniversalID() + " in " + dbNab.getTitle());
                docPerson.save();
                
                var addviews = new Array();
                addviews.push(dbNab.getView("($LDAPCN)"));
                addviews.push(dbNab.getView("($Users)"));
                addviews.push(dbNab.getView("($ServerAccess)"));
                addviews.push(dbNab.getView("($VIMPeople)"));
                addviews.push(dbMainNab.getView("($ServerAccess)"));
                addviews.push(dbMainNab.getView("($VIMGroups)"));
                addviews.push(dbMainNab.getView("($Users)"));
                for(var i=0; i&lt;addviews.length; i++)
                    addviews[i].refresh();
                print("Refreshed views");
                
                //Finally create a profile document for the person
                var dbCurrent = sessionAsSigner.getDatabase(database.getServer(), database.getFilePath());
                var profile = dbCurrent.createDocument();
                profile.replaceItemValue("Form", "person");
                profile.replaceItemValue("Name", fbname.getCanonical());
                profile.computeWithForm(false, false);
                profile.save();
                print("Created profile document");
            }
        }
    }
    
    var validateUser = function(thisname){
        getDbs();
        var people = dbNab.getView("($Users)");
        var collection = people.getAllDocumentsByKey(thisname, true);
        print("Found " + collection.getCount() + " matching people for " + thisname);
        if (collection.getCount() &gt; 0)
            return false;
        else
            return true;
    }
    
    var addUserToGroup = function(nname){
        var group = "[Your Group Name Here]";
        var groups = dbMainNab.getView("Groups");
        var docGroup = groups.getDocumentByKey(group, true);
        
        if (docGroup == null){
            docGroup = dbMainNab.createDocument();
            docGroup.replaceItemValue("Form", "Group");
            docGroup.replaceItemValue("ListName", group);
            docGroup.replaceItemValue("Members",  group &amp; " 1");
            docGroup.replaceItemValue("GroupType", "0");
            docGroup.replaceItemValue("ListDescription", "Do NOT edit this group manually, it is updated via an agent!!!");
            docGroup.computeWithForm( false, false );
            docGroup.save();
        }
        
        var groupMainMembers = docGroup.getFirstItem( "Members" );
        var subGroup = "";
        for (var x=groupMainMembers.getValues().length; i&gt;=0; i--){
            if (@Left(groupMainMembers.getValues()[x], @Length( group  )) == group)
                subGroup = groupMainMembers.getValues()[x];
        }
        
        groupNum = 0;
        
        if (subGroup != "")
            groupNum = @TextToNumber( @Right( subGroup, @Length( subGroup ) - @Length( group ) - 1 ) );
        else{
            groupNum = 1
            subGroup = group + " 1";
        }
        
        while(true){
            var groupSubDoc = groups.getDocumentByKey( subGroup, true );
            
            if (groupSubDoc == null){
                groupSubDoc = dbMainNab.createDocument();
                groupSubDoc.replaceItemValue("Form", "Group");
                groupSubDoc.replaceItemValue("ListName", subGroup);
                groupSubDoc.replaceItemValue("GroupType", "0");
                groupSubDoc.computeWithForm( false, false );
                
                if (!groupMainMembers.containsValue( subGroup )){
                    try{
                        groupMainMembers = docGroup.getFirstItem("Members");
                        groupMainMembers.appendToTextList(subGroup);
                        saveGroupMainDoc = true;
                    }catch(e){
                        _dump(e);
                    }
                }
            }
            var groupSubMembers = groupSubDoc.getFirstItem( "Members" );
            
            if (groupSubMembers.getValueLength() &lt; 10000)
                break;
            
            groupNum = groupNum + 1;
            subGroup = group + " " + groupNum;
        }
        
        groupSubMembers.appendToTextList(nname.getCanonical());
        groupSubDoc.save( false, true );
        docGroup.save( false, true );
        return true;
    }
    
    var getDbs = function(){
        if (dbNab == null || dbMainNab == null){
            dbNab = sessionAsSigner.getDatabase(database.getServer(), "[NAB Where Users Are Stored]");
            dbMainNab = sessionAsSigner.getDatabase(database.getServer(), "[Main NAB]");
        }
    }
    
    return {
        // public methods
        registerNewFBUser:        registerNewFBUser,
        validateUser:            validateUser,
        addUserToGroup:            addUserToGroup, 
        getDbs:                    getDbs
    }
}
/*
Creates a new Notes Name using First Name, Last Name, Facebook User ID
*/
function getFBName(firstname, lastname, uid){
    return session.createName(firstname + " " + lastname + "/" + uid + "/Facebook");
}
/*
Generates a password using a Notes Name and a secret key as a salt
*/
function getFBPassword(fbname:NotesName, seed){
    var result = session.evaluate("@Password(\"" + fbname.getCanonical() + seed + "\")");
    return @ReplaceSubstring(result.elementAt(0), ["(",")"], "");
}
</code></pre>
<p>6) Finally you&#8217;ll need some AJAX code which logs the user in assuming all of the previous code has worked properly</p>
<pre style="font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; color: #000000; background-color: #eee; font-size: 12px; border: 1px dashed #999999; line-height: 14px; padding: 5px; overflow: auto; width: 100%;"><code>function doLogin(userNameId, passwordId, facebookmode){
    dojo.xhrPost({
        url: "/names.nsf?login",
        content: {
            username: dojo.byId(userNameId).value, 
            password: dojo.byId(passwordId).value, 
            redirectto: dbPath + "/username.txt?open&amp;rnd=" + Math.random()
        },
        load: function(data) {
            try {
                if( data.indexOf("Anonymous") == -1) { 
                    dojo.byId("loginMsg").style.display = "block";
                    dojo.byId("loginMsg").style.color = "green";
                    dojo.byId("loginMsg").style.backgroundColor = "transparent"; 
                    dojo.byId("loginMsg").innerHTML = "Please Wait";
                    if(location.href.indexOf("register.xsp") &gt; -1){
                        location.href = dbPath;
                    }else{
                        if (facebookmode == true){
                            window.opener.location.href = window.opener.location.href;
                            window.close(); 
                        }else{
                            if (window.location.href.indexOf("#") &gt; -1){
                                window.location.replace( strLeft(window.location.href, "#") );
                            }else{
                                window.location.replace( window.location.href );
                            }
                        }
                    }
                } else { 
                    dojo.byId("loginMsg").style.display = "block";
                    dojo.byId("loginMsg").style.color = "red"; 
                    dojo.byId("loginMsg").style.backgroundColor = "transparent";
                    if ( dojo.cookie('DomAuthSessId') != null || dojo.cookie('LtpaToken') != null ) { 
                        dojo.byId("loginMsg").innerHTML = "You do not have access to this database";
                    } else { 
                        dojo.byId("loginMsg").innerHTML = "Wrong username or password"; 
                    } 
                }
            }catch(e){
                alert(e);
                console.error ('Error: ', error);
            }
        },
        error: function(data) {
            alert(e);
            console.error ('Error: ', error); 
        } 
    });
}
</code></pre>
<p>7) That code will need to be triggered by some Javascript which runs when the page loads (so this needs to go in the onClientLoad function)</p>
<pre style="font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; color: #000000; background-color: #eee; font-size: 12px; border: 1px dashed #999999; line-height: 14px; padding: 5px; overflow: auto; width: 100%;"><code>if (gup("code") != ""){
    doLogin("#{id:username}", "#{id:password}", true)
}else{
    window.close();
}
</code></pre>
<p>For the gup function go here: <a href="http://www.netlobo.com/url_query_string_javascript.html">http://www.netlobo.com/url_query_string_javascript.html</a></p>
<p>&nbsp;</p>
												<div class="clear"></div>
						<p class="post-tags"><span>Tags:</span> <a href="/tag/facebook/" rel="tag">facebook</a><a href="/tag/sso/" rel="tag">sso</a><a href="/tag/xpages/" rel="tag">xpages</a></p>						
	<div class="sharrre-container sharrre-header group">
		<span>Share</span>
		<div id="twitter" data-url="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/" data-text="How to get SSO for Facebook working with XPages" data-title="Tweet"></div>
		<div id="facebook" data-url="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/" data-text="How to get SSO for Facebook working with XPages" data-title="Like"></div>
		<div id="pinterest" data-url="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/" data-text="How to get SSO for Facebook working with XPages" data-title="Pin It"></div>
		<div id="linkedin" data-url="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/" data-text="How to get SSO for Facebook working with XPages" data-title="Share on LinkedIn"></div>
	</div>
<!--/.sharrre-container-->

	<script type="text/javascript">
		// Sharrre
		jQuery(document).ready(function(){
			jQuery('#twitter').sharrre({
				share: {
					twitter: true
				},
				template: '<a class="box group" href="#"><div class="count" href="#"><i class="fas fa-plus"><\/i><\/div><div class="share"><i class="fab fa-twitter"><\/i><\/div><\/a>',
				enableHover: false,
				enableTracking: true,
				buttons: { twitter: {via: ''}},
				click: function(api, options){
					api.simulateClick();
					api.openPopup('twitter');
				}
			});
			jQuery('#facebook').sharrre({
				share: {
					facebook: true
				},
				template: '<a class="box group" href="#"><div class="count" href="#"><i class="fas fa-plus"><\/i><\/div><div class="share"><i class="fab fa-facebook-square"><\/i><\/div><\/a>',
				enableHover: false,
				enableTracking: true,
				buttons:{layout: 'box_count'},
				click: function(api, options){
					api.simulateClick();
					api.openPopup('facebook');
				}
			});
			jQuery('#pinterest').sharrre({
				share: {
					pinterest: true
				},
				template: '<a class="box group" href="#"><div class="count" href="#"><i class="fas fa-plus"><\/i><\/div><div class="share"><i class="fab fa-pinterest"><\/i><\/div><\/a>',
				enableHover: false,
				enableTracking: true,
				buttons: {
				pinterest: {
					description: 'How to get SSO for Facebook working with XPages'					}
				},
				click: function(api, options){
					api.simulateClick();
					api.openPopup('pinterest');
				}
			});
			jQuery('#linkedin').sharrre({
				share: {
					linkedin: true
				},
				template: '<a class="box group" href="#"><div class="count" href="#"><i class="fas fa-plus"><\/i><\/div><div class="share"><i class="fab fa-linkedin"><\/i><\/div><\/a>',
				enableHover: false,
				enableTracking: true,
				buttons: {
				linkedin: {
					description: 'How to get SSO for Facebook working with XPages'					}
				},
				click: function(api, options){
					api.simulateClick();
					api.openPopup('linkedin');
				}
			});

		});
	</script>
							
					</div>
<!--/.entry-->
				</div>
				
			</div>
			
			<div class="entry-meta group">
				<div class="entry-meta-inner">
					<span class="posted-on">October 20, 2010</span>
					<span class="byline">by <span class="author"><a href="/author/mattwhite/" title="Posts by mattwhite" rel="author">mattwhite</a></span></span>
					<span class="entry-category"><a href="/category/xpages/" rel="category tag">XPages</a></span>
											<a class="entry-comments" href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/#comments"><i class="fas fa-comment"></i><span>8</span></a>
									</div>
			</div>
			
			<div class="post-wrapper entry-line-entry group">
				<div class="entry-footer group">

										
					
					

<h4 class="heading">
	<i class="fas fa-hand-point-right"></i>You may also like...</h4>

<ul class="related-posts group">
	
		<li class="related">
		<article class="related-post">

			<div class="related-thumbnail">
				<a href="/2007-6-23-paypal-problems-html/">
											<img src="/wp-content/themes/blogstream/img/thumb-medium.png" alt="Paypal Problems">
																								</a>
			</div>
<!--/.post-thumbnail-->
			
			<div class="related-inner">
				
				<h4 class="related-title">
					<a href="/2007-6-23-paypal-problems-html/" rel="bookmark">Paypal Problems</a>
				</h4>
<!--/.post-title-->
			
			</div>
<!--/.related-inner-->

		</article>
	</li>
<!--/.related-->
		<li class="related">
		<article class="related-post">

			<div class="related-thumbnail">
				<a href="/2011-8-30-dojo-charts-and-ie-html/">
											<img src="/wp-content/themes/blogstream/img/thumb-medium.png" alt="Dojo Charts and IE">
																								</a>
			</div>
<!--/.post-thumbnail-->
			
			<div class="related-inner">
				
				<h4 class="related-title">
					<a href="/2011-8-30-dojo-charts-and-ie-html/" rel="bookmark">Dojo Charts and IE</a>
				</h4>
<!--/.post-title-->
			
			</div>
<!--/.related-inner-->

		</article>
	</li>
<!--/.related-->
		<li class="related">
		<article class="related-post">

			<div class="related-thumbnail">
				<a href="/2002-4-9-strange-html/">
											<img src="/wp-content/themes/blogstream/img/thumb-medium.png" alt="strange">
																								</a>
			</div>
<!--/.post-thumbnail-->
			
			<div class="related-inner">
				
				<h4 class="related-title">
					<a href="/2002-4-9-strange-html/" rel="bookmark">strange</a>
				</h4>
<!--/.post-title-->
			
			</div>
<!--/.related-inner-->

		</article>
	</li>
<!--/.related-->
		
</ul>
<!--/.post-related-->

					
					
<div id="comments" class="themeform">
	
		
		<h3 class="heading">8 Responses</h3>
	
		<ul class="comment-tabs group">
			<li class="active"><a href="#commentlist-container"><i class="fas fa-comments"></i>Comments<span>8</span></a></li>
			<li><a href="#pinglist-container"><i class="fas fa-share"></i>Pingbacks<span>0</span></a></li>
		</ul>

				<div id="commentlist-container" class="comment-tab">
			
			<ol class="commentlist">
						<li class="comment even thread-even depth-1" id="comment-1369">
				<div id="div-comment-1369" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://1.gravatar.com/avatar/a1805db79279906689b79d9541bb16f2?s=96&#038;d=mm&#038;r=g" srcset="http://1.gravatar.com/avatar/a1805db79279906689b79d9541bb16f2?s=192&#038;d=mm&#038;r=g 2x" class="avatar avatar-96 photo" height="96" width="96" loading="lazy">			<cite class="fn">JJTB Somhorst</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/#comment-1369">October 20, 2010 at 12:26</a>		</div>

		<p>The integration with facebook is an awsome step to make xpages even more nice. I think it would be possible to do the same with for instance twitter?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/?replytocom=1369#respond" data-commentid="1369" data-postid="1449" data-belowelement="div-comment-1369" data-respondelement="respond" data-replyto="Reply to JJTB Somhorst" aria-label="Reply to JJTB Somhorst">Reply</a></div>
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1370">
				<div id="div-comment-1370" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://1.gravatar.com/avatar/a8c959e2d840e711175570115a24a044?s=96&#038;d=mm&#038;r=g" srcset="http://1.gravatar.com/avatar/a8c959e2d840e711175570115a24a044?s=192&#038;d=mm&#038;r=g 2x" class="avatar avatar-96 photo" height="96" width="96" loading="lazy">			<cite class="fn"><a href="http://markbaton.com/" rel="external nofollow ugc" class="url">Mark Barton</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/#comment-1370">October 20, 2010 at 12:40</a>		</div>

		<p>Ah &#8211; doing the AJAX HTTP Post to perform the login is a nice touch saves having to create the token.</p>
<p>Thanks for posting this Matt.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/?replytocom=1370#respond" data-commentid="1370" data-postid="1449" data-belowelement="div-comment-1370" data-respondelement="respond" data-replyto="Reply to Mark Barton" aria-label="Reply to Mark Barton">Reply</a></div>
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1371">
				<div id="div-comment-1371" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://1.gravatar.com/avatar/?s=96&#038;d=mm&#038;r=g" srcset="http://0.gravatar.com/avatar/?s=192&#038;d=mm&#038;r=g 2x" class="avatar avatar-96 photo avatar-default" height="96" width="96" loading="lazy">			<cite class="fn">Fredrik</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/#comment-1371">October 20, 2010 at 12:41</a>		</div>

		<p>Thanks for sharing Matt, perhaps plublish this on openntf.org as a demo app would be great next step.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/?replytocom=1371#respond" data-commentid="1371" data-postid="1449" data-belowelement="div-comment-1371" data-respondelement="respond" data-replyto="Reply to Fredrik" aria-label="Reply to Fredrik">Reply</a></div>
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1372">
				<div id="div-comment-1372" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://1.gravatar.com/avatar/d94671f8cb7814c87899b3d992f8434e?s=96&#038;d=mm&#038;r=g" srcset="http://1.gravatar.com/avatar/d94671f8cb7814c87899b3d992f8434e?s=192&#038;d=mm&#038;r=g 2x" class="avatar avatar-96 photo" height="96" width="96" loading="lazy">			<cite class="fn"><a href="http://www.juliusbuss.de/" rel="external nofollow ugc" class="url">Julian Buss</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/#comment-1372">October 20, 2010 at 13:03</a>		</div>

		<p>nice one, Matt. <br>I always wondered how one could create SSO solutions for Domino using &quot;foreign&quot; authentication, but it makes sense the way you did it. <br>What puzzles me is that it seems you can read the user&#39;s password from his facebook account (since you create a new person document and writing that password into the httppassword field)? <br>Or is this some kind of generated password, created by the facebook system?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/?replytocom=1372#respond" data-commentid="1372" data-postid="1449" data-belowelement="div-comment-1372" data-respondelement="respond" data-replyto="Reply to Julian Buss" aria-label="Reply to Julian Buss">Reply</a></div>
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1373">
				<div id="div-comment-1373" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://2.gravatar.com/avatar/23b23e96d155cd6ca225b8955c3f5425?s=96&#038;d=mm&#038;r=g" srcset="http://2.gravatar.com/avatar/23b23e96d155cd6ca225b8955c3f5425?s=192&#038;d=mm&#038;r=g 2x" class="avatar avatar-96 photo" height="96" width="96" loading="lazy">			<cite class="fn"><a href="http://ntf.gbs.com/" rel="external nofollow ugc" class="url">Nathan T. Freeman</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/#comment-1373">October 20, 2010 at 13:06</a>		</div>

		<p>Matt, can I suggest adding the following to your registerNewFBUser function?</p>
<p>docPerson.replaceItemValue(&quot;$SecurePassword&quot;, &quot;2&quot;);</p>
<p>Theoretically the .computeWithForm call will enforce whatever password storage policy you&#39;ve set in the directory, but I&#39;ve personally found it a good idea to enforce the salted storage as much as possible.</p>
<p>Nice use of the fb uid as a custom OU there. Very slick. 😉</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/?replytocom=1373#respond" data-commentid="1373" data-postid="1449" data-belowelement="div-comment-1373" data-respondelement="respond" data-replyto="Reply to Nathan T. Freeman" aria-label="Reply to Nathan T. Freeman">Reply</a></div>
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1374">
				<div id="div-comment-1374" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://1.gravatar.com/avatar/d94671f8cb7814c87899b3d992f8434e?s=96&#038;d=mm&#038;r=g" srcset="http://1.gravatar.com/avatar/d94671f8cb7814c87899b3d992f8434e?s=192&#038;d=mm&#038;r=g 2x" class="avatar avatar-96 photo" height="96" width="96" loading="lazy">			<cite class="fn"><a href="http://www.juliusbuss.de/" rel="external nofollow ugc" class="url">Julian Buss</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/#comment-1374">October 20, 2010 at 13:16</a>		</div>

		<p>sorry for my comment, I didn&#39;t read until the end.. 🙂 Now I know where the password&#39;s coming from.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/?replytocom=1374#respond" data-commentid="1374" data-postid="1449" data-belowelement="div-comment-1374" data-respondelement="respond" data-replyto="Reply to Julian Buss" aria-label="Reply to Julian Buss">Reply</a></div>
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1375">
				<div id="div-comment-1375" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://2.gravatar.com/avatar/b71547dc4c9a24400378aee2e7771785?s=96&#038;d=mm&#038;r=g" srcset="http://2.gravatar.com/avatar/b71547dc4c9a24400378aee2e7771785?s=192&#038;d=mm&#038;r=g 2x" class="avatar avatar-96 photo" height="96" width="96" loading="lazy">			<cite class="fn"><a href="http://dominolotus.com/" rel="external nofollow ugc" class="url">Vikas Tiwari</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/#comment-1375">November 23, 2010 at 08:39</a>		</div>

		<p>Hi Matt, </p>
<p>Thanks for the wonderful code. </p>
<p>I am facing issue with sessionAsSigner in afterPageLoad event. Server is 8.5.2, still giving error: sessionAsSigner not found. It works if I use sessionAsSigner within onClick event of a button but not with XPage events.</p>
<p>Please suggest if anyone else has faced such issue ?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/?replytocom=1375#respond" data-commentid="1375" data-postid="1449" data-belowelement="div-comment-1375" data-respondelement="respond" data-replyto="Reply to Vikas Tiwari" aria-label="Reply to Vikas Tiwari">Reply</a></div>
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1376">
				<div id="div-comment-1376" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://2.gravatar.com/avatar/b11914a0f06bdceaee94f25cc6b2ec00?s=96&#038;d=mm&#038;r=g" srcset="http://2.gravatar.com/avatar/b11914a0f06bdceaee94f25cc6b2ec00?s=192&#038;d=mm&#038;r=g 2x" class="avatar avatar-96 photo" height="96" width="96" loading="lazy">			<cite class="fn"><a href="http://simply-sso.com/" rel="external nofollow ugc" class="url">Peter Närlund</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/#comment-1376">March 3, 2011 at 23:41</a>		</div>

		<p>Check out real authentication using <a href="http://simply-sso.com/" rel="nofollow ugc">http://simply-sso.com</a>. No need to handel domino passwords&#8230;</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/?replytocom=1376#respond" data-commentid="1376" data-postid="1449" data-belowelement="div-comment-1376" data-respondelement="respond" data-replyto="Reply to Peter Närlund" aria-label="Reply to Peter Närlund">Reply</a></div>
				</div>
				</li>
<!-- #comment-## -->
	
			</ol>
<!--/.commentlist-->
			
						
		</div>	
				
		
		
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2010-10-20-how-to-get-sso-for-facebook-working-with-xpages-html/#respond" style="display:none;">Cancel reply</a></small>
</h3>
<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form">
<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> <span class="required-field-message" aria-hidden="true">Required fields are marked <span class="required" aria-hidden="true">*</span></span></p>
<p class="comment-form-comment"><label for="comment">Comment <span class="required" aria-hidden="true">*</span></label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p>
<p class="comment-form-author"><label for="author">Name <span class="required" aria-hidden="true">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required="required"></p>
<p class="comment-form-email"><label for="email">Email <span class="required" aria-hidden="true">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200"></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes"> <label for="wp-comment-cookies-consent">Save my name, email, and website in this browser for the next time I comment.</label></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="1449" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p>
</form>	</div>
<!-- #respond -->
	
</div>
<!--/#comments-->					
				</div>
			</div>

		</article><!--/.post-->
		
	</div>
	
</div>
<!--/.content-->


	<div class="sidebar s1">

		<div class="sidebar-content">
		
						
				<ul class="post-nav group">
		<li class="next"><a href="/2010-10-26-useful-new-preference-in-dde-852-for-java-agents-html/" rel="next"><i class="fas fa-chevron-right"></i><strong>Next</strong> <span>Useful new preference in DDE 8.5.2 for Java Agents</span></a></li>
		<li class="previous"><a href="/2010-10-20-facebook-sso-to-xpages-html/" rel="prev"><i class="fas fa-chevron-left"></i><strong>Previous</strong> <span>Facebook SSO to XPages</span></a></li>
	</ul>

						
		</div>
<!--/.sidebar-content-->
		
	</div>
<!--/.sidebar-->
	

					</div>
<!--/.main-inner-->
				</div>
<!--/.main-->	
			</div>
<!--/.container-inner-->
		</div>
<!--/.container-->
		
		<footer id="footer">
		
							
						
						
			<div id="footer-bottom">
				
				<a id="back-to-top" href="#"><i class="fas fa-angle-up"></i></a>
					
				<div class="pad group">
					
					<div class="grid one-full">
						
												
						<div id="copyright">
															<p>mattwhite.me &copy; 2022. All Rights Reserved.</p>
													</div>
<!--/#copyright-->
						
												<div id="credit">
							<p>Powered by <a href="https://wordpress.org/" rel="nofollow">WordPress</a>. Theme by <a href="http://alx.media/" rel="nofollow">Alx</a>.</p>
						</div>
<!--/#credit-->
												
					</div>
					
					<div class="grid one-full">	
																								</div>
				
				</div>
<!--/.pad-->

			</div>
<!--/#footer-bottom-->

		</footer><!--/#footer-->
	
	</div>
<!--/#wrapper-inner-->
</div>
<!--/#wrapper-->

<script type="text/javascript" src="/wp-content/themes/blogstream/js/jquery.fitvids.js?ver=6.0.1" id="blogstream-fitvids-js"></script>
<script type="text/javascript" src="/wp-content/themes/blogstream/js/jq-sticky-anything.min.js?ver=6.0.1" id="blogstream-jq-sticky-anything-js"></script>
<script type="text/javascript" src="/wp-content/themes/blogstream/js/scripts.js?ver=6.0.1" id="blogstream-scripts-js"></script>
<script type="text/javascript" src="/wp-includes/js/comment-reply.min.js?ver=6.0.1" id="comment-reply-js"></script>
<script type="text/javascript" src="/wp-content/themes/blogstream/js/nav.js?ver=1661702752" id="blogstream-nav-script-js"></script>
	<script>
	/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1);
	</script>
	</body>
</html>